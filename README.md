# Parallel Kaczmarz PDE Solver

## Description
This project implements a Kaczmarz method for solving systems of linear equations, with a simple PDE solver to demonstrate its functionality. The project is organized to be built with CMake.

The project was part of the class at ETH Zürich "263-2800-00L: Design of Parallel and High-Performance Computing" in the autumn semester 2024.

## Contributors
Department of Computer Science at ETH Zürich:
Viktor Fukala

Department of Mathematics at ETH Zürich:
Alexandre Faroux, Clemens Herfarth, Zeno Hug, Cédric Zeiter

## Table of Contents
- [Description](#description)
- [Simple Setup to Build and Run](#simple-setup-to-build-and-run)
- [Project Structure](#project-structure)
- [Helpful Scripts](#helpful-scripts)
- [Other Files](#other-files)
- [License](#license)

## Simple Setup to Build and Run

1. **Install Dependencies**
   - Install CMake and LehrFEM++.
   - Install clang-format if you want to format code (using: `bash format_code.sh`).

2. **Clone the Repository**:
   ```sh
   git clone <repository_url>
   ```

3. **Automated Build of all folders**:
   Run the script `build_all_anew.sh` to create build folders for all parts and build them.
   ```sh
   bash build_all_anew.sh
   ```

   Alternatively, you can build each part individually by following the instructions below.

4. **Run CMake**
   Generate the build configuration files.
   ```sh
   mkdir kaczmarz/build
   cd kaczmarz/build
   cmake -DCMAKE_BUILD_TYPE=Release ..

   mkdir linear_systems/build
   cd linear_systems/build
   cmake -DCMAKE_BUILD_TYPE=Release ..

   The data for the mesh builder is already included in the repository (folder: generated_bvp_matrices). If you want to build the mesh builder, you need to download LehrFEM++ and build it. Then you can build the mesh builder as follows:
   mkdir mesh_builder/build
   cd mesh_builder/build
   cmake -DCMAKE_BUILD_TYPE=Release ..
   ```

5. **Compile the Project**
   Use the generated Makefiles to compile the project (for each folder).
   ```sh
   make
   ```

6. **Run the executables**:
   Run the executables generated by the build process. The executables are located in the `build` folder of each part. Each file is name describes what it does.



## Project Structure
On the top level, the project is divided into three parts:
  * `linear_systems`: Contains a simple (statically-linked) library for the representation of linear systems. This library is shared between the remaining two parts.
  * `mesh_builder`: Uses LehrFEM++ to generate examples of linear systems that correspond to some boundary value problems. (not needed to run our other code as the generated data is stored in the repository in generated_bvp_matrices)
  * `kaczmarz`: The heart of the project. It consists of our implementation of the Kaczmarz solver for solving LSEs.

## Helpful Scripts
This directory contains the following scripts that might come in handy:
* `clear_all_builds.sh`: Deletes any existing `build` folders that were created at the recommended paths.
* `build_all_anew.sh`: Runs `clear_all_builds.sh` and then creates a build folder for each part at the recommended path and performs the build.
* `format_code.sh`: Formats all source and header files using `clang-format`. This should be run before making a PR to merge to the main branch. We have a CI check that will prevent merging unformatted code to main.

## Other Files
* The `generated_bvp_matrices` folder contains sample LSEs created from BVPs using the mesh builder. They are meant to be used as inputs for our Kaczmarz solver implementation.
* The 'benchmarking_data' folder contains the data from the benchmarking of the Kaczmarz solver. The data is stored in csv files and can be used to create plots.
* Exact details on how the project was benchmarked can be found in the accompanying report.

## License
This project is licensed under the MIT License.